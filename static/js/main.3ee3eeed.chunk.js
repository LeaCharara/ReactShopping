(this.webpackJsonpshoppingwebsite=this.webpackJsonpshoppingwebsite||[]).push([[0],{64:function(e,t,c){},65:function(e,t,c){},75:function(e,t,c){},84:function(e,t,c){},85:function(e,t,c){},86:function(e,t,c){},87:function(e,t,c){},89:function(e,t,c){"use strict";c.r(t);var n=c(4),s=c(3),r=c(22),i=c.n(r),a=(c(64),c(46)),o=(c(65),c(30)),l=c(9),d=c(36),j=c(18),u=c(14),b=c(28);b.a.initializeApp({apiKey:"AIzaSyCYjvs1UCAE-aiF3NOYh6Aqy0AXdCTMlaY",authDomain:"reactshopping-de6e4.firebaseapp.com",databaseURL:"https://reactshopping-de6e4.firebaseio.com",projectId:"reactshopping-de6e4",storageBucket:"reactshopping-de6e4.appspot.com",messagingSenderId:"932781287371",appId:"1:932781287371:web:72b2349fe355f3a26d384e",measurementId:"G-PGX36S9P5P"});var h=b.a,O=(b.a.auth(),b.a.firestore(),Object(s.createContext)()),m=function(e){var t=Object(s.useState)(null!==h.auth().currentUser),c=Object(l.a)(t,2),r=c[0],i=c[1];return Object(n.jsx)(O.Provider,{value:[r,i],children:e.children})},x=c(37),p=(c(72),c(96)),f=c(92),g=c(93);function v(e){var t=Object(u.g)();return Object(n.jsx)("button",{className:"detail_btn",type:"button",onMouseEnter:function(e){e.target.style.backgroundColor="black",e.target.style.color="white"},onMouseLeave:function(e){e.target.style.backgroundColor="white",e.target.style.color="black"},onClick:function(){t.push("/Details/".concat(e.id))},style:{verticalAlign:"bottom",font:"bold",backgroundColor:"white",color:"black",border:"2px solid #485460",fontSize:"1rem",transitionDuration:"0.4s",padding:"5px 12px",textAlign:"center",borderRadius:"0.25rem",fontFamily:"sans-serif",fontWeight:"bold",marginTop:"10px"},children:"Details"})}var y=function(e){console.log(e.item);var t=Object(s.useContext)(O),c=Object(l.a)(t,1)[0],r=Object(u.g)(),i=Object(s.useState)(e.quantity),a=Object(l.a)(i,2),o=a[0],d=a[1];function b(e){e.target.style.backgroundColor="white",e.target.style.color="black"}function m(e){e.target.style.backgroundColor="#485460",e.target.style.color="white"}var y=function(t){if(c){d((function(e){return void 0===e?1:e+1}));var n=h.firestore().collection("Carts");n.where("uid","==",h.auth().currentUser.uid).get().then((function(t){if(t.empty)n.add({uid:h.auth().currentUser.uid,productsList:Object(j.a)({},e.item.id,{quantity:1})});else n.where("uid","==",h.auth().currentUser.uid).get().then((function(t){void 0!==t.docs[0].data().productsList[e.item.id]?n.doc(t.docs[0].id).set({productsList:Object(j.a)({},e.item.id,{quantity:h.firestore.FieldValue.increment(1)})},{merge:!0}):n.doc(t.docs[0].id).set({productsList:Object(j.a)({},e.item.id,{quantity:1})},{merge:!0})}))}))}else Object(x.confirmAlert)({title:"Status",message:"Please Login before adding to cart !",buttons:[{label:"Yes",onClick:function(){r.push("/login")}},{label:"Later"}]})};return Object(n.jsxs)(p.a,{style:{width:"18rem",margin:"20px"},children:[Object(n.jsx)(f.a,{className:"mx-auto",src:"/images/".concat(e.item.filename),style:{width:120,height:120,marginTop:"10px"},rounded:!0}),Object(n.jsxs)(p.a.Body,{className:"d-flex flex-column",children:[Object(n.jsx)(p.a.Title,{className:"mx-auto",children:e.item.title}),Object(n.jsx)(p.a.Text,{children:e.item.description}),void 0!==o&&Object(n.jsxs)("p",{children:["In Cart : ",o]}),void 0!==o?Object(n.jsx)(g.a,{onMouseOver:b,onMouseLeave:m,onClick:y,className:"mt-auto",variant:"primary",style:{backgroundColor:"#485460",borderColor:"#485460"},children:"Add More"}):Object(n.jsx)(g.a,{onMouseOver:b,onMouseLeave:m,onClick:y,className:"mt-auto",variant:"primary",style:{backgroundColor:"#485460",borderColor:"#485460"},children:"Add to cart"}),Object(n.jsx)(v,{id:e.item.id})]})]})},N=(c(75),c(32)),C=c(44),w=c.n(C),k=c(52);function S(){var e=Object(d.a)(["\n  position: absolute;\n  top: 50%;\n  left : 45%;\n"]);return S=function(){return e},e}Object(N.css)(S());var L=function(){var e=Object(s.useState)([]),t=Object(l.a)(e,2),c=t[0],r=t[1],i=Object(s.useState)({}),a=Object(l.a)(i,2),d=a[0],j=a[1],u=Object(s.useState)([]),b=Object(l.a)(u,2),O=b[0],m=b[1];return Object(s.useEffect)((function(){if(null!=h.auth().currentUser){var e=h.auth().currentUser.uid,t=h.firestore().collection("Carts").where("uid","==",e);j({}),t.get().then((function(e){e.docs.map((function(e){for(var t in e.data().productsList)j((function(c){var n=c;return n[t]=e.data().productsList[t].quantity,n}))}))}))}}),[]),Object(s.useEffect)((function(){h.firestore().collection("Products").get().then((function(e){e.docs.map((function(e){r((function(t){return[].concat(Object(o.a)(t),[e.data()])}))}))}))}),[]),Object(s.useEffect)((function(){m(c.map((function(e,t){return Object(n.jsx)(y,{item:e,quantity:d[e.id]},t)})))}),[c]),Object(n.jsxs)("div",{style:{textAlign:"center",marginTop:"20px"},children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(k.a,{style:{fontSize:"24px"}}),Object(n.jsx)("input",{type:"text",placeholder:"Search...",onChange:function(e){m(c.filter((function(t){return t.title.includes(e.target.value)})).map((function(e,t){return Object(n.jsx)(y,{item:e,quantity:d[e.id]},t)})))},style:{marginLeft:"10px",fontSize:"24px",width:"500px",border:"0",outline:"0",background:"transparent",borderBottom:"1px solid black"}})]}),Object(n.jsx)("section",{className:"products",children:O})]})},P=c(16),E=c(94),A=c(95);var I=function(){var e=Object(u.g)(),t=Object(s.useContext)(O),c=Object(l.a)(t,2),r=c[0],i=c[1];function a(t){console.log(t.target.id),"logoutbtn"===t.target.id?h.auth().signOut().then((function(){i(!1),localStorage.setItem("Token",""),e.push("/Products")})).catch((function(e){console.log(e)})):e.push("/login")}return Object(n.jsx)("div",{children:Object(n.jsxs)(E.a,{bg:"light",variant:"light",children:[Object(n.jsx)(E.a.Brand,{children:"Tasts"}),Object(n.jsxs)(A.a,{className:"ml-auto",children:[Object(n.jsx)(A.a.Link,{children:Object(n.jsx)(P.b,{to:"/Products",style:{textDecoration:"none"},children:"Products"})}),Object(n.jsx)(A.a.Link,{children:Object(n.jsx)(P.b,{to:"/Cart",style:{textDecoration:"none"},children:"Cart"})}),r?Object(n.jsx)(A.a.Link,{children:Object(n.jsx)(P.b,{style:{textDecoration:"none"},id:"logoutbtn",onClick:a,children:"Log Out"})}):Object(n.jsx)(A.a.Link,{children:Object(n.jsx)(P.b,{style:{textDecoration:"none"},onClick:a,children:"Log In"})})]})]})})};c(84);function U(){var e=Object(d.a)(["\n  position: absolute;\n  top: 50%;\n  left : 45%;\n"]);return U=function(){return e},e}var q=Object(N.css)(U());var D=function(){var e=Object(s.useState)(),t=Object(l.a)(e,2),c=t[0],r=t[1],i=Object(s.useState)(!0),a=Object(l.a)(i,2),o=a[0],d=a[1],b=Object(s.useContext)(O),m=Object(l.a)(b,1)[0],p=Object(u.g)(),f=window.location.pathname.split("/")[2];return Object(s.useEffect)((function(){h.firestore().collection("Products").doc(f).get().then((function(e){r(e.data()),d(!1)}))}),[]),Object(n.jsx)("div",{children:o?Object(n.jsx)("div",{className:"sweet-loading",children:Object(n.jsx)(w.a,{css:q,size:50,color:"green",loading:o})}):Object(n.jsxs)("div",{className:"Container",children:[Object(n.jsx)("div",{className:"left_column",children:Object(n.jsx)("img",{src:"/images/".concat(c.filename)})}),Object(n.jsxs)("div",{className:"right_column",children:[Object(n.jsxs)("div",{className:"product-description",children:[Object(n.jsx)("span",{children:c.type}),Object(n.jsx)("h1",{children:c.title}),Object(n.jsx)("p",{children:c.description})]}),Object(n.jsxs)("div",{className:"product-price",children:[Object(n.jsxs)("span",{children:[c.price,"$"]}),Object(n.jsx)("button",{className:"cart-btn",onClick:function(){if(m){var e=h.firestore().collection("Carts");e.where("uid","==",h.auth().currentUser.uid).get().then((function(t){t.empty?e.add({uid:h.auth().currentUser.uid,productsList:Object(j.a)({},f,{quantity:1})}):e.where("uid","==",h.auth().currentUser.uid).get().then((function(t){void 0!==t.docs[0].data().productsList[f]?e.doc(t.docs[0].id).set({productsList:Object(j.a)({},f,{quantity:h.firestore.FieldValue.increment(1)})},{merge:!0}):e.doc(t.docs[0].id).set({productsList:Object(j.a)({},f,{quantity:1})},{merge:!0})}))}))}else Object(x.confirmAlert)({title:"Status",message:"Please Login before adding to cart !",buttons:[{label:"Yes",onClick:function(){p.push("/login")}},{label:"Later"}]})},children:"Add to cart"})]})]})]})})},T=(c(85),c(23));var M=function(){var e=Object(T.c)(),t=Object(s.useContext)(O),c=Object(l.a)(t,2),r=c[0],i=c[1],a=Object(s.useState)(""),o=Object(l.a)(a,2),d=o[0],j=o[1],h=Object(s.useState)(""),m=Object(l.a)(h,2),x=m[0],p=m[1],f=Object(u.g)();function g(e){"email"===e.target.type?j(e.target.value):p(e.target.value)}return Object(s.useEffect)((function(){r&&f.push("/Products")})),Object(n.jsx)("div",{className:"login-page",children:r?"":Object(n.jsxs)("form",{style:{padding:"20px",borderRadius:"10px",backgroundColor:"#f5f6fa"},children:[Object(n.jsx)("h3",{children:"Sign In"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Email address"}),Object(n.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter email",onChange:g})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",onChange:g})]}),Object(n.jsx)("p",{className:"forgot-password text-right",style:{marginTop:"-20px",marginBottom:"20px"},children:Object(n.jsx)(P.b,{to:"/resetpassword",children:"Forgot Password ?"})}),Object(n.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",onClick:function(t){t.preventDefault(),b.a.auth().signInWithEmailAndPassword(d,x).then((function(t){b.a.auth().currentUser.getIdToken().then((function(t){localStorage.setItem("Token",t),i(!0),e.success("Sucessfully Logged in",{timeout:2e3,onClose:function(){f.push("/Products")}})}))})).catch((function(t){"auth/user-not-found"===t.code||"auth/wrong-password"===t.code?e.error("Please verify your credentials!",{timeout:2e3}):"auth/invalid-email"===t.code&&e.error("Please enter a valid email address!",{timeout:2e3})}))},children:"Submit"}),Object(n.jsxs)("p",{className:"forgot-password text-left",children:["Not registered yet ?",Object(n.jsx)(P.b,{to:"/signup",children:" Click here to sign up !"})]})]})})},z=c(55),R=(c(86),function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"col-sm-8 col-md-6",children:Object(n.jsxs)("div",{className:"media",children:[Object(n.jsxs)("a",{className:"thumbnail pull-left",href:"#",children:[" ",Object(n.jsx)("img",{className:"media-object",src:"/images/".concat(e.item.filename),style:{width:"72px",height:"72px"}})," "]}),Object(n.jsx)("div",{className:"media-body",children:Object(n.jsx)("h4",{className:"media-heading",children:Object(n.jsx)(P.b,{to:"/Details/".concat(e.item.id),children:e.item.title})})})]})}),Object(n.jsx)("td",{className:"col-sm-1 col-md-1",style:{textAlign:"center"},children:Object(n.jsx)("input",{type:"number",className:"form-control",defaultValue:e.quantity,onChange:function(t){e.onQtyChange(e.item.id,e.itemIndex,t)}})}),Object(n.jsx)("td",{className:"col-sm-1 col-md-1 text-center",children:Object(n.jsxs)("strong",{children:["$",e.item.price]})}),Object(n.jsx)("td",{className:"col-sm-1 col-md-1 text-center",children:Object(n.jsxs)("strong",{children:["$",Math.round(e.item.price*e.quantity*100)/100]})}),Object(n.jsx)("td",{className:"col-sm-1 col-md-1",children:Object(n.jsxs)("button",{type:"button",className:"btn btn-danger",onClick:function(){e.onDelete(e.item.id,e.itemIndex)},children:[Object(n.jsx)("span",{className:"glyphicon glyphicon-remove"})," Remove"]})})]})}),$=c(57),B=c(56),F=function(){var e=Object(u.g)(),t=Object(s.useState)([]),c=Object(l.a)(t,2),r=c[0],i=c[1],a=Object(s.useState)([]),d=Object(l.a)(a,2),b=d[0],O=d[1],m=Object(s.useState)(0),x=Object(l.a)(m,2),p=x[0],f=x[1],g=function(e,t){var c=r.filter((function(t){return t.id!==e})),n=b.filter((function(e){return e!=b[t]}));O(n),i(c),h.firestore().collection("Carts").where("uid","==",h.auth().currentUser.uid).get().then((function(t){h.firestore().collection("Carts").doc(t.docs[0].id).set({productsList:Object(j.a)({},e,h.firestore.FieldValue.delete())},{merge:!0})}))},v=function(e,t,c){var n=Object(o.a)(b);n[t][e].quantity=c.target.value,O(n),h.firestore().collection("Carts").where("uid","==",h.auth().currentUser.uid).get().then((function(t){h.firestore().collection("Carts").doc(t.docs[0].id).set({productsList:Object(j.a)({},e,{quantity:parseInt(c.target.value)})},{merge:!0})}))};Object(s.useEffect)((function(){if(null!=h.auth().currentUser){var e=h.auth().currentUser.uid,t=h.firestore().collection("Carts").where("uid","==",e);O([]),i([]),t.get().then((function(e){e.docs.map((function(e){for(var t in e.data().productsList)O((function(c){var n=Object(j.a)({},t,e.data().productsList[t]);return[].concat(Object(o.a)(c),[n])})),h.firestore().collection("Products").doc(t.toString()).get().then((function(e){i((function(t){return[].concat(Object(o.a)(t),[e.data()])}))}))}))}))}}),[]),Object(s.useEffect)((function(){f(function(){var e=0;for(var t in r)e+=r[t].price*b[t][r[t].id].quantity;return Math.round(100*e)/100}())}),[r,b]);var y=r.map((function(e,t){return Object(n.jsx)(R,{item:e,itemIndex:t,quantity:b[t][e.id].quantity,onDelete:g,onQtyChange:v},e.id)}));return Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-sm-12 col-md-10 col-md-offset-1",children:Object(n.jsxs)("table",{className:"table table-hover",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Product"}),Object(n.jsx)("th",{children:"Quantity"}),Object(n.jsx)("th",{className:"text-center",children:"Price"}),Object(n.jsx)("th",{className:"text-center",children:"Total"}),Object(n.jsx)("th",{children:"\xa0"})]})}),Object(n.jsxs)("tbody",{children:[y,Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:" \xa0 "}),Object(n.jsx)("td",{children:" \xa0 "}),Object(n.jsx)("td",{children:" \xa0 "}),Object(n.jsx)("td",{children:Object(n.jsx)("h5",{children:"Subtotal"})}),Object(n.jsx)("td",{className:"text-right",children:Object(n.jsx)("h5",{children:Object(n.jsxs)("strong",{children:["$",p]})})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:" \xa0 "}),Object(n.jsx)("td",{children:" \xa0 "}),Object(n.jsx)("td",{children:" \xa0 "}),Object(n.jsx)("td",{children:Object(n.jsx)("h5",{children:"Tax (15%)"})}),Object(n.jsx)("td",{className:"text-right",children:Object(n.jsx)("h5",{children:Object(n.jsxs)("strong",{children:["$",Math.round(.15*p*100)/100]})})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:" \xa0 "}),Object(n.jsx)("td",{children:" \xa0 "}),Object(n.jsx)("td",{children:" \xa0 "}),Object(n.jsx)("td",{children:Object(n.jsx)("h3",{children:"Total"})}),Object(n.jsx)("td",{className:"text-right",children:Object(n.jsx)("h3",{children:Object(n.jsxs)("strong",{children:["$",Math.round(100*(p+.15*p))/100]})})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:" \xa0 "}),Object(n.jsx)("td",{children:" \xa0 "}),Object(n.jsx)("td",{children:" \xa0 "}),Object(n.jsx)("td",{children:Object(n.jsxs)("button",{type:"button",className:"btn btn-outline-secondary shoppingbtn",style:{width:"200px"},onClick:function(t){t.target.className.includes("shoppingbtn")&&e.push("/Products")},children:[Object(n.jsx)(B.a,{style:{fontSize:"30px"}})," Continue Shopping"]})}),Object(n.jsx)("td",{children:Object(n.jsxs)("button",{type:"button",className:"btn btn-success",style:{width:"200px"},children:["Checkout ",Object(n.jsx)($.a,{style:{fontSize:"25px"}})]})})]})]})]})})})})},V=(c(87),function(){var e=Object(u.g)(),t=Object(T.c)(),c=Object(s.useState)(""),r=Object(l.a)(c,2),i=r[0],a=r[1],o=Object(s.useState)(""),d=Object(l.a)(o,2),j=d[0],b=d[1],O=Object(s.useState)(),m=Object(l.a)(O,2),x=m[0],p=m[1],f=Object(s.useState)(),g=Object(l.a)(f,2),v=g[0],y=g[1],N=function(e){var t=e.target.id;"email"===t&&(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.target.value)?(p(!1),a(e.target.value)):p(!0)),"password"===t&&b(e.target.value),"verify_password"===t&&(e.target.value===j?y(!1):y(!0))};return Object(n.jsxs)("form",{className:"form",children:[Object(n.jsx)("h3",{children:"Sign Up"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Email address"}),Object(n.jsx)("input",{id:"email",type:"email",className:"form-control",placeholder:"Enter email",onChange:N})]}),x?Object(n.jsx)("p",{style:{color:"red",fontSize:"12px"},children:"Please enter a valid email address"}):null,Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{id:"password",type:"password",className:"form-control",placeholder:"Enter password",onChange:N})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Verify password"}),Object(n.jsx)("input",{id:"verify_password",type:"password",className:"form-control",placeholder:"Re-enter password",onChange:N})]}),v?Object(n.jsx)("p",{style:{color:"red",fontSize:"12px"},children:"Verify Password does not match"}):null,Object(n.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",onClick:function(c){c.preventDefault(),h.auth().createUserWithEmailAndPassword(i,j).then((function(){t.success("Account Successfully created",{timeout:3e3}),e.push("/login")})).catch((function(e){var c=e.message;t.error(c,{timeout:5e3})}))},children:"Sign Up"}),Object(n.jsxs)("p",{className:"forgot-password text-right",children:["Already registered ? ",Object(n.jsx)(P.b,{to:"/login",children:" Sign In "})]})]})}),Y=function(){var e=Object(T.c)(),t=Object(s.useState)(""),c=Object(l.a)(t,2),r=c[0],i=c[1],a=Object(u.g)();return Object(n.jsxs)("form",{className:"form",children:[Object(n.jsx)("h3",{children:"Reset Password"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Please enter your email address"}),Object(n.jsx)("input",{id:"email",type:"email",className:"form-control",placeholder:"Enter email",onChange:function(e){i(e.target.value)}})]}),Object(n.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",onClick:function(t){t.preventDefault(),h.auth().sendPasswordResetEmail(r).then((function(){e.success("Email has been sent successfully",{timeout:3e3}),a.push("/login")})).catch((function(t){e.error(t.message,{timeout:5e3})}))},children:"submit"})]})},_=(c(88),{timout:1e3,positions:T.b.MIDDLE});var Q=function(){return Object(n.jsx)(P.a,{children:Object(n.jsx)(u.d,{children:Object(n.jsx)(T.a,Object(a.a)(Object(a.a)({template:z.a},_),{},{children:Object(n.jsxs)(m,{children:[Object(n.jsx)(I,{}),Object(n.jsx)(u.a,{from:"/",exact:!0,to:"/Products"}),Object(n.jsx)(u.b,{path:"/login",component:M}),Object(n.jsx)(u.b,{path:"/signup",component:V}),Object(n.jsx)(u.b,{path:"/resetpassword",component:Y}),Object(n.jsx)(u.b,{path:"/Products",component:L}),Object(n.jsx)(u.b,{path:"/Details",component:D}),Object(n.jsx)(u.b,{path:"/Cart",component:F})]})}))})})};i.a.render(Object(n.jsx)(Q,{}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.3ee3eeed.chunk.js.map